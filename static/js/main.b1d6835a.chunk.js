(this["webpackJsonpgif-search"]=this["webpackJsonpgif-search"]||[]).push([[0],[,,function(e){e.exports=JSON.parse('{"a":"8QqYxAPrsw4R0gITnrVZphyN9aF48HTH"}')},,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),u=(n(10),n(1)),i=function(e){return r.a.createElement("div",{id:"more-button",onClick:e.runApiSearch},">")},s=function(e){return r.a.createElement("div",{className:"gifs-container"},e.arr.map((function(e){return r.a.createElement("img",{alt:e.title,key:e.id,className:"gifs",src:e.images.fixed_height_downsampled.url})})),e.arr.length>0&&r.a.createElement(i,{runApiSearch:e.runApiSearch}))},l=n(2);function m(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(u.a)(o,2),m=i[0],f=i[1],h=Object(a.useState)([]),g=Object(u.a)(h,2),p=g[0],b=g[1],E=Object(a.useState)(!1),j=Object(u.a)(E,2),O=j[0],d=j[1],S=Object(a.useState)(!0),w=Object(u.a)(S,2),y=w[0],v=w[1],k=Object(a.useState)(!1),A=Object(u.a)(k,2),F=A[0],x=A[1],C=Object(a.useState)(0),I=Object(u.a)(C,2),N=I[0],_=I[1],G=function(){""!==m&&(d(!0),fetch("https://api.giphy.com/v1/gifs/search?api_key=".concat(l.a,"&q=").concat(m,"&limit=15&offset=").concat(N)).then((function(e){return e.json()})).then((function(e){if(e.meta.status<200||e.meta.status>299)throw new Error(e.meta.msg);d(!0),_(N+15),y?(b(e.data),v(!1)):b(p.concat(e.data))})).catch((function(e){d(!1),x(!0),console.log("Error:",e)})))};return Object(a.useEffect)((function(){G()}),[m]),Object(a.useEffect)((function(){O&&p.length>0&&d(!1)}),[O,p.length]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n!==m&&(b([]),x(!1),f(n),c(""))}},r.a.createElement("input",{type:"text",placeholder:"What type of GIFs would you like to see?",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",null,"Search")),p.length>0&&r.a.createElement("h2",null,m.charAt(0).toUpperCase()+m.substring(1).toLowerCase()," GIFs"),O&&""!==m&&r.a.createElement("img",{id:"spinner",alt:"Search results are loading",src:"./spinner.gif"}),F&&r.a.createElement("p",{id:"error-message"},"Oops, something went wrong with your search. Check console for error message, or simply try again."),r.a.createElement(s,{arr:p,runApiSearch:G}))}function f(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(0),m=Object(u.a)(i,2),f=m[0],h=m[1],g=function(){fetch("https://api.giphy.com/v1/gifs/trending?api_key=".concat(l.a,"&limit=15&offset=").concat(f)).then((function(e){return e.json()})).then((function(e){if(e.meta.status<200||e.meta.status>299)throw new Error(e.meta.msg);o(0===f?e.data:c.concat(e.data)),h(f+15)})).catch((function(e){return console.log("Error:",e)}))};return Object(a.useEffect)((function(){g()}),[]),r.a.createElement(r.a.Fragment,null,c.length>0&&r.a.createElement("h2",null,"Trending GIFs"),r.a.createElement(s,{arr:c,runApiSearch:g}))}var h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement(f,null))};o.a.render(r.a.createElement(h,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.b1d6835a.chunk.js.map