{"version":3,"sources":["MoreButton.js","MapGifs.js","SearchForGifs.js","TrendingGifs.js","App.js","index.js"],"names":["MoreButton","runApiSearch","id","onClick","MapGifs","props","className","arr","map","gif","key","target","href","embed_url","rel","alt","title","src","images","fixed_height_downsampled","url","length","SearchForGifs","useState","typedString","setTypedString","gifSearch","setGifSearch","searchResultGifs","setSearchResultGifs","isLoading","setIsLoading","failedToLoad","setFailedToLoad","offset","setOffset","fetch","API_KEY","then","res","json","jsonRes","meta","status","Error","msg","data","concat","catch","err","console","log","useEffect","Fragment","onSubmit","e","preventDefault","type","placeholder","value","onChange","charAt","toUpperCase","substring","toLowerCase","TrendingGifs","mapGifs","trendingGifs","setTrendingGifs","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3db7af72.chunk.js","sourcesContent":["import React from 'react';\n\nconst MoreButton = ({ runApiSearch }) => (\n  <div id=\"more-button\" onClick={runApiSearch}>></div>\n);\n\nexport default MoreButton;","import React from 'react';\nimport MoreButton from './MoreButton';\n\nconst MapGifs = (props) => (\n  <div className=\"gifs-container\">\n    {props.arr.map(gif => (\n      <a\n        key={gif.id}\n        target=\"_blank\"\n        href={gif.embed_url}\n        rel=\"noopener noreferrer\"\n      >\n        <img\n          alt={gif.title}\n          className=\"gifs\"\n          src={gif.images.fixed_height_downsampled.url}>\n        </img>\n      </a>\n    ))}\n    {props.arr.length > 0 && <MoreButton runApiSearch={props.runApiSearch} />}\n  </div>\n);\n\nexport default MapGifs;\n","import React, { useState, useEffect } from 'react';\nimport MapGifs from './MapGifs';\nimport { API_KEY } from './secrets.json';\n\nexport default function SearchForGifs() {\n  const [typedString, setTypedString] = useState(\"\");\n  const [gifSearch, setGifSearch] = useState(\"\");\n  const [searchResultGifs, setSearchResultGifs] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [failedToLoad, setFailedToLoad] = useState(false);\n  const [offset, setOffset] = useState(0);\n\n  const runApiSearch = () => {\n    // This condition prevents this API request being made on the intitial mount:\n    if (gifSearch !== \"\") {\n      setIsLoading(true);\n      fetch(`https://api.giphy.com/v1/gifs/search?api_key=${API_KEY}&q=${gifSearch}&limit=15&offset=${offset}`)\n        .then(res => res.json())\n        .then(jsonRes => {\n          // Check in meta data whether response is OK:\n          if (jsonRes.meta.status < 200 || jsonRes.meta.status > 299) {\n            throw new Error(jsonRes.meta.msg);\n          } else if (jsonRes.data.length === 0) {\n            throw new Error('No valid results');\n          } else {\n            setOffset(offset + 15);\n            setSearchResultGifs(searchResultGifs.concat(jsonRes.data))\n          }\n        })\n        .catch(err => {\n          setIsLoading(false);\n          setFailedToLoad(true);\n          console.log(\"Error:\", err)\n        })\n    }\n  };\n\n\n  useEffect(() => {\n    runApiSearch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [gifSearch]);\n\n  useEffect(() => {\n    if (isLoading && searchResultGifs.length > 0) {\n      setIsLoading(false);\n    }\n  }, [isLoading, searchResultGifs.length]);\n\n  return (\n    <React.Fragment>\n      <form onSubmit={e => {\n        e.preventDefault();\n        if (typedString !== gifSearch) {\n          setOffset(0);\n          setSearchResultGifs([]);\n          setFailedToLoad(false);\n          setGifSearch(typedString);\n          setTypedString(\"\");\n        }\n      }}>\n        <input\n          type=\"text\"\n          placeholder=\"What type of GIFs would you like to see?\"\n          value={typedString}\n          onChange={e => setTypedString(e.target.value)}\n        />\n        <button>Search</button>\n      </form>\n\n      {searchResultGifs.length > 0 && (\n        // Search query becomes heading, formatted with capital first letter:\n        <h2>{gifSearch.charAt(0).toUpperCase() + gifSearch.substring(1).toLowerCase()} GIFs</h2>\n      )}\n\n      {isLoading && offset === 0 && (\n        // While search results are loading, render spinner:\n        <img id=\"spinner\" alt=\"Search results are loading\" src=\"./spinner.gif\" />\n      )}\n\n      {failedToLoad && (\n        // If search fails, remove spinner and inform user:\n        <p id=\"error-message\">Oops, something went wrong with your search. Check console for error message, or simply try again.</p>\n      )}\n\n      <MapGifs arr={searchResultGifs} runApiSearch={runApiSearch} />\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport MapGifs from './MapGifs';\nimport { API_KEY } from './secrets.json';\n\nexport default function TrendingGifs(mapGifs) {\n  const [trendingGifs, setTrendingGifs] = useState([]);\n  const [offset, setOffset] = useState(0);\n\n  const runApiSearch = () => {\n    fetch(`https://api.giphy.com/v1/gifs/trending?api_key=${API_KEY}&limit=15&offset=${offset}`)\n      .then(res => res.json())\n      .then(jsonRes => {\n        // Check in meta data whether response is OK:\n        if (jsonRes.meta.status < 200 || jsonRes.meta.status > 299) {\n          throw new Error(jsonRes.meta.msg);\n        } else {\n          if (offset === 0) {\n            setTrendingGifs(jsonRes.data);\n          } else {\n            setTrendingGifs(trendingGifs.concat(jsonRes.data));\n          }\n          setOffset(offset + 15);\n        }\n      })\n      .catch(err => console.log(\"Error:\", err))\n  };\n\n  useEffect(() => {\n    runApiSearch();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <React.Fragment>\n      {trendingGifs.length > 0 && (\n        <h2>Trending GIFs</h2>\n      )}\n      <MapGifs arr={trendingGifs} runApiSearch={runApiSearch} />\n    </React.Fragment>\n  )\n}\n","import React from 'react';\nimport SearchForGifs from './SearchForGifs';\nimport TrendingGifs from './TrendingGifs';\n\nconst App = () => (\n  <React.Fragment>\n    <SearchForGifs />\n    <TrendingGifs />\n  </React.Fragment>\n)\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}