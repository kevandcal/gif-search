(this["webpackJsonpgif-search"]=this["webpackJsonpgif-search"]||[]).push([[0],[,,function(e){e.exports=JSON.parse('{"a":"8QqYxAPrsw4R0gITnrVZphyN9aF48HTH"}')},,,function(e,t,n){e.exports=n(11)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),u=(n(10),n(1)),i=function(e){var t=e.runApiSearch;return r.a.createElement("div",{id:"more-button",onClick:t},">")},s=function(e){return r.a.createElement("div",{className:"gifs-container"},e.arr.map((function(e){return r.a.createElement("a",{key:e.id,target:"_blank",href:e.embed_url,rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.title,className:"gifs",src:e.images.fixed_height_downsampled.url}))})),e.arr.length>0&&r.a.createElement(i,{runApiSearch:e.runApiSearch}))},l=n(2);function f(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(u.a)(o,2),f=i[0],m=i[1],h=Object(a.useState)([]),g=Object(u.a)(h,2),p=g[0],E=g[1],b=Object(a.useState)(!1),d=Object(u.a)(b,2),j=d[0],O=d[1],S=Object(a.useState)(!1),w=Object(u.a)(S,2),v=w[0],y=w[1],k=Object(a.useState)(0),A=Object(u.a)(k,2),F=A[0],_=A[1],x=function(){""!==f&&(O(!0),fetch("https://api.giphy.com/v1/gifs/search?api_key=".concat(l.a,"&q=").concat(f,"&limit=15&offset=").concat(F)).then((function(e){return e.json()})).then((function(e){if(e.meta.status<200||e.meta.status>299)throw new Error(e.meta.msg);if(0===e.data.length)throw new Error("No valid results");_(F+15),E(p.concat(e.data))})).catch((function(e){O(!1),y(!0),console.log("Error:",e)})))};return Object(a.useEffect)((function(){x()}),[f]),Object(a.useEffect)((function(){j&&p.length>0&&O(!1)}),[j,p.length]),r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n!==f&&(_(0),E([]),y(!1),m(n),c(""))}},r.a.createElement("input",{type:"text",placeholder:"What type of GIFs would you like to see?",value:n,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",null,"Search")),p.length>0&&r.a.createElement("h2",null,f.charAt(0).toUpperCase()+f.substring(1).toLowerCase()," GIFs"),j&&0===F&&r.a.createElement("img",{id:"spinner",alt:"Search results are loading",src:"./spinner.gif"}),v&&r.a.createElement("p",{id:"error-message"},"Oops, something went wrong with your search. Check console for error message, or simply try again."),r.a.createElement(s,{arr:p,runApiSearch:x}))}function m(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(0),f=Object(u.a)(i,2),m=f[0],h=f[1],g=function(){fetch("https://api.giphy.com/v1/gifs/trending?api_key=".concat(l.a,"&limit=15&offset=").concat(m)).then((function(e){return e.json()})).then((function(e){if(e.meta.status<200||e.meta.status>299)throw new Error(e.meta.msg);o(0===m?e.data:c.concat(e.data)),h(m+15)})).catch((function(e){return console.log("Error:",e)}))};return Object(a.useEffect)((function(){g()}),[]),r.a.createElement(r.a.Fragment,null,c.length>0&&r.a.createElement("h2",null,"Trending GIFs"),r.a.createElement(s,{arr:c,runApiSearch:g}))}var h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,null),r.a.createElement(m,null))};o.a.render(r.a.createElement(h,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.3db7af72.chunk.js.map